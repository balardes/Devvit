syntax = "proto3";

package devvit.data.api.admin.v1alpha;

import "devvit/data/api/admin/v1alpha/audit.proto";
import "devvit/data/api/admin/v1alpha/auth.proto";
import "devvit/data/api/admin/v1alpha/organization.proto";
import "devvit/data/api/admin/v1alpha/subscription.proto";
import "devvit/data/api/admin/v1alpha/ui.proto";

option go_package = "github.snooguts.net/reddit/reddit-devplatform-monorepo/go-common/generated/protos/types/devvit/data/api/admin/v1alpha";

service Admin {
  // Auth
  rpc CreateAccessToken(CreateAccessTokenRequest) returns (CreateAccessTokenResponse);
  rpc GetAccessTokenById(GetAccessTokenByIdRequest) returns (GetAccessTokenByIdResponse);
  rpc GetAccessTokensByOrganizationName(GetAccessTokensByOrganizationNameRequest) returns (GetAccessTokensByOrganizationNameResponse);
  rpc RevokeAccessTokenById(RevokeAccessTokenByIdRequest) returns (RevokeAccessTokenByIdResponse);

  // Subscriptions
  rpc CreateSubscription(CreateSubscriptionRequest) returns (CreateSubscriptionResponse);
  rpc GetSubscriptionById(GetSubscriptionByIdRequest) returns (GetSubscriptionByIdResponse);
  rpc GetSubscriptionsByOrganizationName(GetSubscriptionsByOrganizationNameRequest) returns (GetSubscriptionsByOrganizationNameResponse);
  rpc UpdateSubscription(UpdateSubscriptionRequest) returns (UpdateSubscriptionResponse);
  rpc DeleteSubscription(DeleteSubscriptionRequest) returns (DeleteSubscriptionResponse);

  // Organizations
  rpc CreateOrganization(CreateOrganizationRequest) returns (CreateOrganizationResponse);
  rpc GetOrganizationById(GetOrganizationByIdRequest) returns (GetOrganizationByIdResponse);
  rpc GetOrganizationByName(GetOrganizationByNameRequest) returns (GetOrganizationByNameResponse);
  rpc GetOrganizations(GetOrganizationsRequest) returns (GetOrganizationsResponse);

  // Audit Logs
  rpc GetAuditLogEventsByOrganizationName(GetAuditLogEventsByOrganizationNameRequest) returns (GetAuditLogEventsByOrganizationNameResponse);
  rpc CreateAuditLogEvent(CreateAuditLogEventRequest) returns (CreateAuditLogEventResponse);

  // UI Helpers
  rpc UIGetHydratedOrganizations(UIGetOrganizationsRequest) returns (UIGetOrganizationsResponse);
}
